(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(35)},33:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(16),s=a.n(r),o=a(1),c=a(2),i=a(4),u=a(3),m=a(5),d=a(7),h=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"lines",value:function(e){if("string"!==typeof e)return e;var t=0;return e.split("\n").map(function(e){return l.a.createElement("div",{key:t++},e)})}},{key:"render",value:function(){var e=this.props.save?l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-default",onClick:this.props.close,"data-dismiss":"modal"},"Close"),l.a.createElement("button",{type:"button",onClick:this.props.save,className:"btn btn-"+(this.props.del?"danger":"primary")},this.props.del?"Delete":"Save changes")):null,t=this.props.y?{position:"absolute",top:this.props.y+"px",zIndex:1}:{position:"absolute",zIndex:1};return l.a.createElement("div",{style:t},l.a.createElement("div",{className:"modal-dialog"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.props.close,"aria-hidden":"true"},"\xd7"),l.a.createElement("h4",{className:"modal-title"},this.props.title)),l.a.createElement("div",{className:"modal-body"},this.lines(this.props.body)),e)))}}]),t}(n.Component),p=a(9),v=a.n(p),f=a(18);a(32);function E(e,t,a,n){var l=!1;fetch(e,function(e,t){var a;a=e?{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","HET-Token":k.user?k.user.token:null,"HET-Env":JSON.stringify(Object({NODE_ENV:"production",PUBLIC_URL:""}))},method:"post",cache:"no-cache",body:JSON.stringify(e)}:{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","HET-Token":k.user?k.user.token:null,"HET-Env":JSON.stringify(Object({NODE_ENV:"production",PUBLIC_URL:""}))},method:"get",cache:"no-cache"};return a}(a)).then(function(t){return t.ok||(l=t.statusText),e.endsWith(".gz")||e.endsWith(".csv")?t.text():t.json()}).then(function(e){t&&t({error:l,data:e})}).catch(function(a){console.error(e,l),t&&t({error:a,data:{error:l||a.message}})})}var b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function g(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");b?(!function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):y(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):y(t,e)})}}function y(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}function N(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}var k=new(function(){function e(){var t=this;Object(o.a)(this,e),this.loadResults=function(){var e={},a={2000:["TM","TF","AM","AF"],2001:["TM","TF","AM","AF"],2002:["TM","TF","AM","AF"],2003:["TF","AM"],2004:["TM","TF","AM","AF"],2005:["T","YM","YF","AM","AF"],2006:["T1","T2","T3","Y","A"],2007:["T","A"],2008:["T1_M","T1_F","T2_M","T2_F","T3_M","T3_F","Y_M","Y_F","A"],2009:["T1","T2","T3","Y","A"],2010:["T1","T2","T3","Y","A"],2011:["T1","T2","T3","Y","A"],2012:["T1","T2","T3","Y","A"],2013:["TS","T1","T2","T3","Y","A"],2014:["TS","T1","T2","T3","Y","A"],2017:["TS","T1","T2","T3","Y","A"],2018:["Club","TS","T1","T2","T3","Y","A"]};Object.keys(a).forEach(function(n){var l=null;a[n].forEach(function(a){E("csv/"+n+"_"+a+".csv",function(r){r.error?t.parent.setState({message:{type:"danger",text:"csv Error: "+r.data.error}}):("2018"===n&&"Club"===a?(l={},r.data.split(/\r\n|\n/).forEach(function(e){var t=e.split(",");t[0]&&"#"!==t[0]&&t[1]&&(l[t[0]]=t[1])})):e[n]=t.parseCSV(r.data,e[n],a,l),console.log("parsed",n,a),"2018"===n&&"A"===a&&(t.store_results(e),t.save(function(){return t.getResults()})))})})})},this.version=7,this.results=null,this.cache={},this.parent=null,this.vs=null,this.roles=null,this.admin=!1}return Object(c.a)(e,[{key:"serviceWorker",value:function(e,t){return this.parent=e,t?g({onUpdate:this.onUpdate,onSuccess:this.onSuccess}):N(),this}},{key:"get_versions",value:function(e){E("/ajax",function(t){t.error?console.log("error",t):t.data.versions?e(t.data.versions):console.error("get_versions")},{req:"versions"})}},{key:"get_volunteers",value:function(e){var t=this;E("/ajax",function(e){e.error?console.log("error",e):e.data?(e.data.files.forEach(function(e){"volunteers"===e.name?t.vs=O(e.file):t[e.name]=O(e.file)}),t.parent.setState({het:t})):console.error("get_volunteers")},{req:"files",files:["volunteers","roles"]})}},{key:"req_login",value:function(e,t){this.user=this.vs.volunteers[e],this.parent.setState({het:this})}},{key:"save_vol",value:function(e){!e.id&&e.name?(e.id=Math.max.apply(Math,Object(f.a)(Object.keys(this.vs)))+1,this.vs[e.id]=e):!e.name&&e.id?delete this.vs[e.id]:this.vs[e.id]=e,E("/ajax",function(e){e.error&&console.log("error",e)},{req:"save",data:{volunteers:j(this.vs)}}),this.parent.setState({het:this})}},{key:"save_roles",value:function(e){this.roles=e,E("/ajax",function(e){e.error&&console.log("error",e)},{req:"save",data:{roles:j(this.roles)}}),this.parent.setState({het:this})}},{key:"process",value:function(e){var t=this;this.vs={},e.volunteers.forEach(function(e){return t.vs[e.id]=JSON.parse(e.json)}),this.roles=JSON.parse(e.roles.json)}},{key:"get_results",value:function(){var e=this,t=0;return this.results||(this.results=this.load_results(),this.parent.setState({het:this})),this.results&&this.results.ts&&(t=this.results.ts),E("/ajax",function(a){a.error?console.log("error",a):a.data.results?(e.results=O(a.data.results),e.results.ts=a.data.ts,e.store(e.results),delete e.results.ts,e.parent.setState({het:e})):console.log("no updates",t)},{req:"files",files:["results"]}),this.results&&delete this.results.ts,this.results}},{key:"onUpdate",value:function(e){this.parent.setState({ready:!1,message:{type:"danger",text:"Software Updating - page will reload"}}),setTimeout(function(){window.location.reload()},2e3)}},{key:"onSuccess",value:function(e){this.parent.setState({type:"success",text:"Content is cached for offline use."}),this.ready()}},{key:"parseCSV",value:function(e,t,a,n){for(var l=e.split(/\r\n|\n/).map(function(e){return e.replace(/"([^,]*), ([^,]*)"/,"$2 $1").replace(/"/g,"").split(",")}),r=l[0],s=0;s<r.length;s++)"Position"===r[s]&&(r[s]="Pos"),"Athlete Name"!==r[s]&&"First"!==r[s]||(r[s]="Name"),"Cycle"===r[s]&&(r[s]="Bike"),"Gender"===r[s]&&(r[s]="MF"),"Class"===r[s]&&(r[s]="Cat"),"Gun Time"!==r[s]&&"Time"!==r[s]||(r[s]="Total"),"Bib"!==r[s]&&"Bib #"!==r[s]&&"Race No"!==r[s]||(r[s]="#"),"Category"===r[s]&&(r[s]="Cat");t||(t=[]),l.shift();var o=r.indexOf("Total"),c=!1;return a.endsWith("M")?c="M":a.endsWith("F")&&(c="F"),l.forEach(function(e){var l={};if(e.length===r.length&&1*e[0]>0&&"Not started"!==e[o]){for(var s=0;s<e.length;s++)e[s].length<30&&"#VALUE!"!==e[s]?l[r[s]]=e[s]:l[r[s]]="n/a";var i={X:"T1",Y:"T2",Z:"T3",1:"T1",2:"T2",3:"T3",T1:"T1",T2:"T2",T3:"T3",TS1:"T1",TS2:"T2",TS3:"T3","Tristars Start":"TS","Tristars 1":"T1","Tristars 2":"T2","Tristars 3":"T3","Tristar 1":"T1","Tristar 2":"T2","Tristar 3":"T3",Y15:"Y",Y16:"Y",Y17:"Y","M17-18":"Y",M1718:"Y","F17-18":"Y",F1718:"Y","17-19":"Y",1719:"Y",M1919:"Y",F1919:"Y",Youth:"Y",Youths:"Y",YOU:"Y",YTH:"Y",A:"Y",B:"Y",C:"Y",AY:"Y",BY:"Y",CY:"Y",Y1:"Y","Y-A":"Y","Y-B":"Y","Y-C":"Y","S-1":"S1","S-2":"S2","S-3":"S3","S-4":"S4","16-19":"Y","20-24":"S1","25-29":"S2","30-34":"S3","35-39":"S4",1619:"Y",2024:"S1",2529:"S2",3034:"S3",3539:"S4",M1619:"Y",M2024:"S1",M2529:"S2",M3034:"S3",M3539:"S4",F1619:"Y",F2024:"S1",F2529:"S2",F3034:"S3",F3539:"S4","M16-19":"Y","M20-24":"S1","M25-29":"S2","M30-34":"S3","M35-39":"S4","F16-19":"Y","F20-24":"S1","F25-29":"S2","F30-34":"S3","F35-39":"S4",D:"S1",E:"S2",F:"S3",G:"S4","S-D":"S1","S-E":"S2","S-F":"S3","S-G":"S4","M40-44":"V1","M45-49":"V2","M50-54":"V2","M55-59":"V3","M60-64":"V3","M65+":"V4","F40-44":"V1","F45-49":"V2","F50-54":"V2","F55-59":"V3","F60-64":"V3","F65+":"V4",M4044:"V1",M4549:"V2",M5054:"V2",M5559:"V3",M6064:"V3",M6569:"V4",M8099:"V4",F4044:"V1",F4549:"V2",F5054:"V2",F5559:"V3",F6064:"V3",F6569:"V4",F8099:"V4","40-44":"V1","45-49":"V2","50-54":"V2","55-59":"V3","60-64":"V3","65-69":"V4","65+":"V4",6099:"V4","80-84":"V4",4044:"V1",4549:"V2",5054:"V2",5559:"V3",6064:"V3",6569:"V4",H:"V1",V:"V2",VV:"V3",VVV:"V4",I:"V2",J:"V3",K:"V4","V-H":"V1","V-I":"V2","V-J":"V3","V-K":"V4"};l.MF?"Male"===l.MF||"male"===l.MF||"m"===l.MF?l.MF="M":"Female"!==l.MF&&"female"!==l.MF&&"f"!==l.MF||(l.MF="F"):c?l.MF=c:l.Cat&&l.Cat.startsWith("M")?l.MF="M":l.Cat&&l.Cat.startsWith("F")&&(l.MF="F");l.Cat?l.Cat=i[l.Cat]?i[l.Cat]:l.Cat:l.Cat={TS:"TS",T1:"T1",T2:"T2",T3:"T3",Y:"Y",Y_:"Y"}[a.substr(0,2)],"Y"===l.Cat&&a.startsWith("A")&&(l.Cat="SY"),"NULL"===l.Club&&(l.Club=""),l.Family&&(l.Name+=" "+l.Family),["Swim","Bike","Run","Total","T1","T2"].forEach(function(e){-1!==["99:99:99","cnc","n/a","DNF","Started","DNC"].indexOf(l[e])&&(l[e]="")}),"n/a"===l.Club&&(l.Club=""),"999999"!==l.Pos&&"NP"!==l.Pos&&""!==l.Total||(l.Pos="DNF"),n&&(l.Club=n[l["#"]]?n[l["#"]]:""),(l.Total||l.Swim||l.Bike||l.Run)&&t.push(l)}}),t}},{key:"store_results",value:function(e){var t;if(window.localStorage)try{t=this.compress(e),window.localStorage.setItem("HETresults",t),console.log("results stored",t.length)}catch(a){console.error("results not stored",a.name,t)}}},{key:"store",value:function(e){var t;if(window.localStorage)try{t=j(e),window.localStorage.setItem("HETresults",t),console.log("results stored",t.length)}catch(a){console.error("results not stored",a.name,t)}}},{key:"clear_results",value:function(){window.localStorage&&window.localStorage.removeItem("HETresults")}},{key:"load_results",value:function(){var e=null;if(window.localStorage&&window.localStorage.HETresults)try{var t=window.localStorage.getItem("HETresults");e=O(t),console.log("load_results",t.length)}catch(a){console.error("failed to unzip results from localStorage",a),window.localStorage.removeItem("HETresults"),e=null}return e}},{key:"save",value:function(e){var t=window.localStorage.getItem("HETresults");E("/ajax/save.php",function(a){console.log("saved",t.length,a),e&&e()},{results:t})}},{key:"compress",value:function(e){var t={};return Object.keys(e).forEach(function(a){var n,l=["Pos","Name","MF","Cat","Total","Swim","Bike","Run"];"string"===typeof e[a][0].Club&&l.push("Club"),"string"===typeof e[a][0].T1&&(l.push("T1"),l.push("T2")),t[a]=[l],e[a].forEach(function(e){n=[],l.forEach(function(t){"string"===typeof e[t]&&n.push(e[t])}),t[a].push(n)})}),j(t)}}]),e}()),S={};function T(e){if(S[e]?S[e].n++:(S[e]={n:1},Object.keys(S).forEach(function(t){t!==e&&e.startsWith(t)&&S[t].show&&(S[e].show=!0)})),S[e].show)return!0}function C(e){return e===Object(e)?JSON.parse(JSON.stringify(e)):e}function j(e){var t=btoa(v.a.deflate(JSON.stringify(e),{to:"string"}));return T("zip")&&console.log("zip",e,JSON.stringify(e).length,t.length),t}function O(e){var t=JSON.parse(v.a.inflate(atob(e),{to:"string"}));return T("unzip")&&console.log("unzip",t,JSON.stringify(t).length,e.length),t}function w(e){return e||""}var F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={vid:null,race:"adult",update:!1,roles:!1,vol:!1,role:null,name:"",admin:!1},a.showRole=function(e,t){a.setState({role:{x:e.nativeEvent.pageX,y:e.nativeEvent.pageY,r:t}})},a.code=function(e){"H20e19"===e.target.value&&(a.setState({admin:!0,name:""}),k.admin=!0)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){k.get_volunteers()}},{key:"render",value:function(){var e=this;if(!k.vs)return null;var t={};k.roles.sections.forEach(function(e){return e.roles.forEach(function(a){return t[e.name+" "+a.role]={adult:[],junior:[]}})}),Object.keys(k.vs).map(function(e){return k.vs[e]}).forEach(function(e){e.adult&&"none"!==e.adult&&(t[e.adult]?t[e.adult].adult.push(e.id):console.log("Adult role missing:",e.adult,e.name)),e.junior&&"none"!==e.junior&&(t[e.junior]?t[e.junior].junior.push(e.id):console.log("Junior role missing:",e.junior,e.name))});var a=1,n=Object.keys(k.vs).filter(function(t){return e.state.name.length>0&&k.vs[t].name.toLowerCase().indexOf(e.state.name.toLowerCase())>-1}).map(function(t){return l.a.createElement("div",{className:"row",key:a++},l.a.createElement("span",{onClick:function(){return e.setState({vid:t,update:!0})},className:"btn-link col-md-3"},k.vs[t].name),l.a.createElement("span",{className:"col-md-3"},l.a.createElement("b",null,"Adult:")," ",k.vs[t].adult),l.a.createElement("span",{className:"col-md-3"},l.a.createElement("b",null,"Junior:")," ",k.vs[t].junior))}),r=[],s=this.state.race,o=0;k.roles.sections.forEach(function(a){r.push(l.a.createElement("tr",{key:o++},l.a.createElement("th",null,a.name," (",a.start[s],"-",a.end[s],")"),l.a.createElement("th",null,a.lead>0?"Lead":""),l.a.createElement("th",null,-1!==a.lead?k.vs[a.lead].name:""))),a.roles.forEach(function(n){for(var c=t[a.name+" "+n.role][s].length>n.qty[s].min?t[a.name+" "+n.role][s].length:n.qty[s].min,i=function(){var c=null,i=t[a.name+" "+n.role][s].length>u?t[a.name+" "+n.role][s][u]:-1;-1!==i&&(c=k.vs[i]);var m=n.role;n.notes&&(m=l.a.createElement("span",{className:"btn-link",onClick:function(t){return e.showRole(t,n)}},m)),r.push(l.a.createElement("tr",{key:o++},l.a.createElement("td",null),l.a.createElement("td",null,m),l.a.createElement("td",{style:i>0?{color:"#007ba7"}:null},c?l.a.createElement("span",{className:"btn-link",onClick:function(){return e.setState({vid:c.id,update:!0})}},c.name):"")))},u=0;u<c;u++)i()})});var c;return c=l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("input",{onChange:function(t){return e.setState({name:t.target.value})},type:"text",className:"form-control",id:"Name",value:this.state.name,placeholder:"Name"})),this.state.admin?l.a.createElement("div",null,l.a.createElement("div",{className:"col-md-3"},l.a.createElement(_,{set_volunteer:function(t){return e.setState({vid:t})},filter:this.state.name,vid:this.state.volunteer,vs:k.vs})),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("button",{onClick:function(){return e.setState({vol:!0})},type:"button",className:"btn btn-primary form-control"},"Add Volunteer")),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("button",{type:"button",onClick:function(){return e.setState({roles:!0})},className:"btn btn-default form-control"},"Edit Roles"))):"?"===this.state.name?l.a.createElement("div",{className:"col-md-2"},l.a.createElement("input",{onChange:this.code,autoFocus:!0,type:"password",className:"form-control",id:"Code",placeholder:"Code"})):null),l.a.createElement("div",null,this.state.vid&&k.admin?l.a.createElement(V,{alloc:t,vid:this.state.vid,close:function(){return e.setState({vid:null})}}):null,this.state.roles?l.a.createElement(Y,{close:function(){return e.setState({roles:!1})}}):null,l.a.createElement(A,{show:this.state.vol,save:this.newVolunteer,close:function(){return e.setState({vol:!1})}}),l.a.createElement(M,{role:this.state.role,close:function(){return e.setState({role:null})}}),l.a.createElement("div",null,l.a.createElement("form",{className:"form-horizontal",onSubmit:this.login},c,n?l.a.createElement("div",null,n,l.a.createElement("br",null)):null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-1 control-label"},"Race:"),l.a.createElement("div",{className:"col-md-2"},l.a.createElement(x,{set_race:function(t){return e.setState({race:t})}})))),l.a.createElement("table",{className:"table table-bordered table-condensed table-striped width-auto"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Section"),l.a.createElement("th",null,"Role"),l.a.createElement("th",null,"Name"))),l.a.createElement("tbody",null,r))))}}]),t}(n.Component),M=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.role&&this.props.role.r.notes?l.a.createElement(h,{x:this.props.role.x,y:this.props.role.y,title:this.props.role.r.role,body:this.props.role.r.notes,close:this.props.close}):null}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={v:{name:"",email:""}},a.update=function(e,t){var n=a.state.v;n[e]=t,a.setState({v:n})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(){this.setState({v:{name:"",email:""}})}},{key:"render",value:function(){var e=this;if(!this.props.show)return null;var t=l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(){return k.save_vol(e.state.v)},className:"form-horizontal"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label",htmlFor:"Name"},"Name:"),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("input",{onChange:function(t){return e.update("name",t.target.value)},type:"text",className:"form-control",id:"Name",value:this.state.v.name,placeholder:"Name"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label",htmlFor:"Email"},"Email:"),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("input",{onChange:function(t){return e.update("email",t.target.value)},type:"email",className:"form-control",id:"Email",value:this.state.v.email,placeholder:"Email"})))));return l.a.createElement(h,{save:function(){k.save_vol(e.state.v),e.props.close()},title:"Volunteer",body:t,close:this.props.close})}}]),t}(n.Component),V=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={v:C(k.vs[a.props.vid])},a.update=function(e,t){var n=a.state.v;"adult"!==e&&"junior"!==e||"any"!==t?n[e]=t:n[e]&&delete n[e],a.setState({v:n})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;console.log("Details",this.props.vid);var t=null;k.admin&&(t=l.a.createElement("div",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label",htmlFor:"Adult"},"Adult Role:"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement(R,{alloc:this.props.alloc,onChange:function(t){return e.update("adult",t.target.value)},roles:k.roles,v:this.state.v,race:"adult"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label",htmlFor:"Junior"},"Junior role:"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement(R,{alloc:this.props.alloc,onChange:function(t){return e.update("junior",t.target.value)},roles:k.roles,v:this.state.v,race:"junior"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label",htmlFor:"Admin"},"Admin:"),l.a.createElement("div",{className:"col-md-1"},l.a.createElement("input",{onChange:function(t){return e.update("admin",!e.state.v.admin)},type:"checkbox",className:"form-control",id:"WhatsApp",checked:w(this.state.v.admin)})))));var a=l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.save,className:"form-horizontal"},t,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label",htmlFor:"Name"},"Name:"),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("input",{onChange:function(t){return e.update("name",t.target.value)},type:"text",className:"form-control",id:"Name",value:this.state.v.name,placeholder:"Name"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label",htmlFor:"Email"},"Email:"),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("input",{onChange:function(t){return e.update("email",t.target.value)},type:"email",className:"form-control",id:"Email",value:this.state.v.email,placeholder:"Email"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label",htmlFor:"Mobile"},"Mobile:"),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("input",{onChange:function(t){return e.update("mobile",t.target.value)},type:"tel",className:"form-control",id:"Mobile",value:w(this.state.v.mobile),placeholder:"Mobile"})),l.a.createElement("label",{className:"col-md-3 control-label",htmlFor:"WhatsApp"},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-whatsapp",style:{fontSize:"large",color:"limegreen"}}),"\xa0WhatsApp")),l.a.createElement("div",{className:"col-md-1"},l.a.createElement("input",{onChange:function(t){return e.update("whatsapp",!e.state.v.whatsapp)},type:"checkbox",className:"form-control",id:"WhatsApp",checked:w(this.state.v.whatsapp)}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label",htmlFor:"Notes"},"Notes:"),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("textarea",{onChange:function(t){return e.update("notes",t.target.value)},rows:"4",className:"form-control",value:w(this.state.v.notes)})))));return l.a.createElement(h,{del:!this.state.v.name,save:function(){return k.save_vol(e.state.v)},title:"Update Details",body:a,close:this.props.close})}}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={roles:C(k.roles),section:null,role:null,add:!1},a.addRole=function(e){var t={role:e,id:a.state.section.roles.length,qty:{adult:{min:0,max:0},junior:{min:0,max:0}},section:a.state.section.id},n=a.state.roles;n.sections[a.state.section.id].roles.push(t),a.setState({roles:n})},a.deleteRole=function(){var e=a.state.roles;e.sections[a.state.section.id].roles.splice(a.state.role.id,1),a.setState({roles:e,role:null})},a.change=function(e,t,n,l,r){var s=a.state.section;if("s"===t)r?s[n][l][r]=e:l?s[n][l]=e:s[n]=e;else{var o=a.state.role;r?(o[n][l][r]=e,"min"===r&&1*o[n][l].max<1*e?o[n][l].max=e:"max"===r&&1*o[n][l].min>1*e&&(o[n][l].min=e)):l?o[n][l]=e:o[n]=e}a.setState({section:s})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.section?l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label",htmlFor:"roles"},"Role:"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement(W,{section:this.state.section,role:this.state.role,onChange:function(t){return e.setState({role:e.state.section.roles[t.target.value],add:!1})},roles:this.state.role})),l.a.createElement("div",{className:"col-md-2"},this.state.role?l.a.createElement("button",{type:"button",onClick:this.deleteRole,className:"btn btn-default form-control"},"Delete"):l.a.createElement("button",{type:"button",onClick:function(){return e.setState({add:!0})},className:"btn btn-default form-control"},"Add"))):null,a=this.state.section?l.a.createElement("div",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label"},"Lead:"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement(_,{vid:this.state.section.lead,set_volunteer:function(t){return e.change(t,"s","lead")},vs:this.props.vs}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label"},"Adult Start/End:"),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("input",{value:this.state.section.start.adult,onChange:function(t){return e.change(t.target.value,"s","start","adult")},className:"form-control"})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("input",{value:this.state.section.end.adult,onChange:function(t){return e.change(t.target.value,"s","end","adult")},className:"form-control"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label"},"Junior Start/End:"),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("input",{value:w(this.state.section.start.junior),onChange:function(t){return e.change(t.target.value,"s","start","junior")},className:"form-control"})),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("input",{value:w(this.state.section.end.junior),onChange:function(t){return e.change(t.target.value,"s","end","junior")},className:"form-control"})))):null,n=this.state.role?l.a.createElement("div",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label"},"Name:"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{value:this.state.role.role,onChange:function(t){return e.change(t.target.value,"r","role")},className:"form-control"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label"},"Adult Min/Max:"),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("input",{type:"number",value:this.state.role.qty.adult.min,onChange:function(t){return e.change(t.target.value,"r","qty","adult","min")},className:"form-control"})),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("input",{type:"number",value:this.state.role.qty.adult.max,onChange:function(t){return e.change(t.target.value,"r","qty","adult","max")},className:"form-control"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label"},"Junior Min/Max:"),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("input",{type:"number",value:this.state.role.qty.junior.min,onChange:function(t){return e.change(t.target.value,"r","qty","junior","min")},className:"form-control"})),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("input",{type:"number",value:this.state.role.qty.junior.max,onChange:function(t){return e.change(t.target.value,"r","qty","junior","max")},className:"form-control"}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label",htmlFor:"Notes"},"Notes:"),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("textarea",{onChange:function(t){return e.change(t.target.value,"r","notes")},rows:"4",className:"form-control",value:w(this.state.role.notes)})))):this.state.add?l.a.createElement("div",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label"},"Name:"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{value:"",onChange:function(t){return e.addRole(t.target.value,"r","role")},className:"form-control"})))):null,r=l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.save,className:"form-horizontal"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-md-3 control-label",htmlFor:"roles"},"Section:"),l.a.createElement("div",{className:"col-md-6"},l.a.createElement(J,{section:this.state.section,onChange:function(t){return e.setState({section:e.state.roles.sections[t.target.value],role:null,addRole:!1})},roles:this.state.roles}))),a,t,n));return l.a.createElement(h,{save:function(){return k.save_roles(e.state.roles)},title:"Edit Roles",body:r,close:this.props.close})}}]),t}(n.Component),x=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("select",{className:"form-control",value:this.props.race,onChange:function(t){return e.props.set_race(t.target.value)}},l.a.createElement("option",{value:"adult"},"Adult"),l.a.createElement("option",{value:"junior"},"Junior"))}}]),t}(n.Component),_=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=[l.a.createElement("option",{key:0,value:0},"name")];return Object.keys(k.vs).map(function(e){return k.vs[e]}).filter(function(t){return!e.props.filter||-1!==t.name.toLowerCase().indexOf(e.props.filter.toLowerCase())}).sort(function(e,t){return e.name.localeCompare(t.name)}).forEach(function(e){t.push(l.a.createElement("option",{key:e.id,value:e.id},e.name))}),l.a.createElement("select",{className:"form-control",value:this.props.vid?this.props.vid:0,onChange:function(t){return e.props.set_volunteer(t.target.value)}},t)}}]),t}(n.Component),R=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.v,a=t[this.props.race]?t[this.props.race]:"any",n=[l.a.createElement("option",{key:0,value:"any"},"any"),l.a.createElement("option",{key:-1,value:"none"},"none")];return this.props.roles.sections.forEach(function(t){t.roles.forEach(function(a){e.props.alloc[t.name+" "+a.role][e.props.race].length<a.qty[e.props.race].max?n.push(l.a.createElement("option",{key:t.id+"_"+a.id},t.name," ",a.role)):n.push(l.a.createElement("option",{className:"green",key:t.id+"_"+a.id},t.name," ",a.role))})}),l.a.createElement("select",{className:"form-control",value:a,onChange:this.props.onChange},n)}}]),t}(n.Component),J=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=[l.a.createElement("option",{key:"select"},"select")];return k.roles.sections.forEach(function(t){e.push(l.a.createElement("option",{key:t.id,value:t.id},t.name))}),l.a.createElement("select",{className:"form-control",value:this.props.section?this.props.section.id:"select",onChange:this.props.onChange},e)}}]),t}(n.Component),W=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=[l.a.createElement("option",{key:"select"},"select")];return this.props.section.roles.forEach(function(t){e.push(l.a.createElement("option",{key:t.id,value:t.id},t.role))}),l.a.createElement("select",{className:"form-control",value:this.props.role?this.props.role.id:"select",onChange:this.props.onChange},e)}}]),t}(n.Component),B=F,H=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=["Adult","Tristars Start","Tristars 1","Tristars 2","Tristars 3","Youths"],t=["6:10","8:00"],a=["9:30","11:00"],n=["6:15","8:15"],r=["10:30","11:30"],s={a:["6:40","6:55","7:10","7:30","7:50","8:15"],j:["11:10","11:20","11:40","12:10","12:40"]};return l.a.createElement("div",null,l.a.createElement("h2",null,"Details"),l.a.createElement("p",null,"The adult race includes a 400m pool based swim (17 lengths at ",l.a.createElement("a",{href:"https://www.everyoneactive.com/centre/hatch-end-swimming-pool/"},"Hatch End swimming pool"),") followed by a 17km road based cycle (3 laps) and an off-road 3km run (3 laps at Hatch End playing fields). Junior races cycle on the playing fields rather than the roads with age-appropriate adjustments to distances (see table below)."),l.a.createElement("p",null,"Documents:"," ",l.a.createElement("a",{target:"_blank",href:"/docs/AdultBriefing.pdf"},"Adult Race Briefing"),","," ",l.a.createElement("a",{target:"_blank",href:"/docs/JuniorBriefing.pdf"},"Junior Race Briefing"),","," ",l.a.createElement("a",{target:"_blank",href:"/docs/AdultCycleMap.pdf"},"Adult Cycle Course"),","," ",l.a.createElement("a",{target:"_blank",href:"/docs/AdultRunCourse.pdf"},"Adult Run Course"),","," ",l.a.createElement("a",{target:"_blank",href:"/docs/JuniorRaceCourses.pdf"},"Junior Cycle & Run Courses")),l.a.createElement("p",null,"See also: ",l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.jetstreamtri.com"},"Jetstream"),","," ",l.a.createElement("a",{target:"_blank",href:"/docs/NoviceGuide.pdf"},"Novice Guide"),","," ",l.a.createElement("a",{target:"_blank",href:"/docs/SiteMap.pdf"},"Site Map"),","," ",l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.google.co.uk/maps/place/HA5+4EA"},"Local Map"),","," ",l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.britishtriathlon.org/britain/documents/events/competition-rules/british-triathlon-competition-rules-2018.pdf"},"British Triathlon Rules")),l.a.createElement("h2",null,"Provisional Timings"),l.a.createElement("table",{className:"table table-bordered table-condensed table-striped width-auto"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null),e.map(function(e){return l.a.createElement("th",{style:{textAlign:"center"},key:e},e)}))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Registration"),l.a.createElement("td",{style:{textAlign:"center"}},t[0],"-",t[1]),l.a.createElement("td",{style:{textAlign:"center"},colSpan:e.length-1},a[0],"-",a[1])),l.a.createElement("tr",null,l.a.createElement("th",null,"Transition"),l.a.createElement("td",{style:{textAlign:"center"}},n[0],"-",n[1]),l.a.createElement("td",{style:{textAlign:"center"},colSpan:e.length-1},r[0],"-",r[1])),l.a.createElement("tr",null,l.a.createElement("th",null,"Briefing"),l.a.createElement("td",{style:{textAlign:"center"}},s.a.join(", ")),s.j.map(function(e){return l.a.createElement("td",{style:{textAlign:"center"},key:e},e)})),l.a.createElement("tr",null,l.a.createElement("th",null,"Start"),["7:00*","11:30","11:40","12:00","12:30","13:00"].map(function(e){return l.a.createElement("td",{style:{textAlign:"center"},key:e},e)})))),l.a.createElement("div",null,"*Individual adult start times are calculated from estimated swim time and notified one week before the race."),l.a.createElement("h2",null,"Race Distances"),l.a.createElement("table",{className:"table table-bordered table-condensed table-striped width-auto text-center"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"Age at 31/12/19"),l.a.createElement("th",{className:"text-center"},"Swim(lengths)"),l.a.createElement("th",{className:"text-center"},"Bike(laps)"),l.a.createElement("th",{className:"text-center"},"Run(laps)"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Adult - novice"),l.a.createElement("td",null,"400m(17)"),l.a.createElement("td",null,"17km(3)"),l.a.createElement("td",null,"3km(3)")),l.a.createElement("tr",null,l.a.createElement("td",null,"Adult - experienced"),l.a.createElement("td",null,"400m(17)"),l.a.createElement("td",null,"17km(3)"),l.a.createElement("td",null,"3km(3)")),l.a.createElement("tr",null,l.a.createElement("td",null,"Youths: 15-16 yrs"),l.a.createElement("td",null,"400m(17)"),l.a.createElement("td",null,"5km(5)"),l.a.createElement("td",null,"3km(5)")),l.a.createElement("tr",null,l.a.createElement("td",null,"Tristar 3: 13-14 yrs"),l.a.createElement("td",null,"306m(13)"),l.a.createElement("td",null,"4km(4)"),l.a.createElement("td",null,"2.4km(4)")),l.a.createElement("tr",null,l.a.createElement("td",null,"Tristar 2: 11-12 yrs"),l.a.createElement("td",null,"212m(9)"),l.a.createElement("td",null,"3km(3)"),l.a.createElement("td",null,"1.8km(3)")),l.a.createElement("tr",null,l.a.createElement("td",null,"Tristar 1:  9-10 yrs"),l.a.createElement("td",null,"165m(7)"),l.a.createElement("td",null,"2km(2)"),l.a.createElement("td",null,"1.2km(2)")),l.a.createElement("tr",null,l.a.createElement("td",null,"Tristart:   8 yrs"),l.a.createElement("td",null,"70m(3)"),l.a.createElement("td",null,"1km(1)"),l.a.createElement("td",null,"0.6km(1)")))))}}]),t}(n.Component),q=a(17),L=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={name:"",year:"",cat:"",mf:"",n:"",sort:"Total"},a.cnum=function(e){var t={TS:1,T1:2,T2:3,T3:4,Y:5},n=t[e[a.c.Cat]]?t[e[a.c.Cat]]:6;return a.year<2004&n<5&&(n=4),n},a.ts=function(e){var t=a.c[a.state.sort]?e[a.c[a.state.sort]]:e[a.c.Total];if(!t)return 9999999;var n=t.split(":"),l=Object(q.a)(n,3),r=l[0],s=l[1],o=l[2],c=3600*r+60*s+1*o;return r&&s&&o||console.log("ts",e,r,s,o),c},a.compare=function(e,t){var n;return 0===(n=a.cnum(e)-a.cnum(t))&&(n=a.ts(e)-a.ts(t)),n},a.filter=function(e){for(var t,n,l=[],r=a.cols(e),s=1;s<k.results[e].length;s++){var o=k.results[e][s];(!o||a.state.year&&a.state.year!==e||a.state.mf&&a.state.mf!==o[r.MF]||a.state.cat&&-1===a.state.cat.indexOf("*")&&a.state.cat!==o[r.Cat]&&"Adult"!==a.state.cat&&"Junior"!==a.state.cat||"T*"===a.state.cat&&"T"!==o[r.Cat][0]||"Y*"===a.state.cat&&"Y"!==o[r.Cat][0]||"S*"===a.state.cat&&"S"!==o[r.Cat][0]||"V*"===a.state.cat&&"V"!==o[r.Cat][0]||"Adult"===a.state.cat&&"S"!==o[r.Cat][0]&&"V"!==o[r.Cat][0]||"Junior"===a.state.cat&&("S"===o[r.Cat][0]||"V"===o[r.Cat][0]))&&(o=!1),o&&l.push(o)}a.year=e,a.c=r,l=l.sort(a.compare);var c=[];return l.forEach(function(e){var l=null;a.cnum(e)!==n?t=1:t++,"DNF"!==e[r.Pos]&&(e[r.Pos]=t),n=a.cnum(e),""===a.state.name&&""===a.state.year&&""===a.state.cat&&""===a.state.mf&&""===a.state.n?l=1*e[r.Pos]===1?e:null:a.state.name?a.state.name.toLowerCase().split(",").forEach(function(t){t.length>0&&-1!==e[r.Name].toLowerCase().indexOf(t)&&(l=e),r.Club&&t.length>0&&-1!==e[r.Club].toLowerCase().indexOf(t)&&(l=e)}):l=a.state.n?1*e[r.Pos]<=a.state.n?e:null:e,l&&c.push(l)}),c},a.set=function(e,t){var n=a.state;n[e]=t.target?t.target.value:t,a.setState(n)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.het.get_results()}},{key:"cols",value:function(e){var t={},a=0;return k.results[e][0].forEach(function(e){t[e]=a++}),t}},{key:"render",value:function(){var e=this;if(!k.results)return null;var t=0,a=0;return l.a.createElement("div",null,l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"form-group"},l.a.createElement(P,{nm:this.state.name,set:this.set}),l.a.createElement(z,{year:this.state.year,set:this.set}),l.a.createElement(D,{mf:this.state.mf,set:this.set}),l.a.createElement(I,{cat:this.state.cat,set:this.set}),l.a.createElement(U,{n:this.state.n,set:this.set}))),Object.keys(this.props.het.results).reverse().map(function(n){var r=e.cols(n),s=a<100?e.filter(n):[];return a+=s.length,s.length>0?l.a.createElement("div",{key:t++},l.a.createElement("h3",null,l.a.createElement("span",{className:"btn-link",onClick:function(){return e.set("year",e.state.year===n?"":n)}},n)),l.a.createElement("table",{className:"table table-bordered table-condensed table-striped width-auto"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Pos"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"M/F"),l.a.createElement("th",null,"Cat"),l.a.createElement("th",null,l.a.createElement("span",{className:"btn-link",onClick:function(){return e.setState({sort:"Total"})}},"Total "),"Total"===e.state.sort?l.a.createElement("i",{className:"fa fa-sort"}):null),l.a.createElement("th",null,l.a.createElement("span",{className:"btn-link",onClick:function(){return e.setState({sort:"Swim"})}},"Swim "),"Swim"===e.state.sort?l.a.createElement("i",{className:"fa fa-sort"}):null),r.T1?l.a.createElement("th",null,l.a.createElement("span",{className:"btn-link",onClick:function(){return e.setState({sort:"T1"})}},"T1 "),"T1"===e.state.sort?l.a.createElement("i",{className:"fa fa-sort"}):null):null,l.a.createElement("th",null,l.a.createElement("span",{className:"btn-link",onClick:function(){return e.setState({sort:"Bike"})}},"Bike "),"Bike"===e.state.sort?l.a.createElement("i",{className:"fa fa-sort"}):null),r.T2?l.a.createElement("th",null,l.a.createElement("span",{className:"btn-link",onClick:function(){return e.setState({sort:"T2"})}},"T2 "),"T2"===e.state.sort?l.a.createElement("i",{className:"fa fa-sort"}):null):null,l.a.createElement("th",null,l.a.createElement("span",{className:"btn-link",onClick:function(){return e.setState({sort:"Run"})}},"Run "),"Run"===e.state.sort?l.a.createElement("i",{className:"fa fa-sort"}):null),r.Club?l.a.createElement("th",null,"Club"):null)),l.a.createElement("tbody",null,s.map(function(e){return l.a.createElement("tr",{key:t++},l.a.createElement("td",null,e[r.Pos]),l.a.createElement("td",null,e[r.Name]),l.a.createElement("td",null,e[r.MF]),l.a.createElement("td",null,e[r.Cat]),l.a.createElement("td",null,e[r.Total]),l.a.createElement("td",null,e[r.Swim]),r.T1?l.a.createElement("td",null,e[r.T1]):null,l.a.createElement("td",null,e[r.Bike]),r.T2?l.a.createElement("td",null,e[r.T2]):null,l.a.createElement("td",null,e[r.Run]),r.Club?l.a.createElement("td",null,e[r.Club]):null)})))):null}))}}]),t}(n.Component),P=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"col-sm-4 col-xs-8"},l.a.createElement("input",{type:"text",size:"10",placeholder:"Name, ...",value:this.props.nm,className:"form-control",onChange:function(t){return e.props.set("name",t)}}))}}]),t}(n.Component),D=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"col-sm-2 col-xs-4"},l.a.createElement("select",{className:"form-control",value:this.props.mf,onChange:function(t){return e.props.set("mf",t)}},l.a.createElement("option",{value:""},"M/F"),l.a.createElement("option",{value:"M"},"M"),l.a.createElement("option",{value:"F"},"F")))}}]),t}(n.Component),I=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"col-sm-2 col-xs-4"},l.a.createElement("select",{className:"form-control",value:this.props.cat,onChange:function(t){return e.props.set("cat",t)}},l.a.createElement("option",{value:""},"Cat"),["Junior","TS","T1","T2","T3","Y","Adult","S*","SY","S1","S2","S3","S4","V*","V1","V2","V3","V4"].map(function(e){return l.a.createElement("option",{key:e,value:e},e)})))}}]),t}(n.Component),z=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"col-sm-2 col-xs-4"},l.a.createElement("select",{className:"form-control",value:this.props.year,onChange:function(t){return e.props.set("year",t)}},l.a.createElement("option",{value:""},"Year"),["2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2017","2018"].reverse().map(function(e){return l.a.createElement("option",{key:e,value:e},e)})))}}]),t}(n.Component),U=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"col-sm-2 col-xs-4"},l.a.createElement("select",{className:"form-control",value:this.props.n,onChange:function(t){return e.props.set("n",t)}},l.a.createElement("option",{value:""},"#"),[1,3,5,10,20].map(function(e){return l.a.createElement("option",{key:e,value:e},e)})))}}]),t}(n.Component),G=L,X=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(i.a)(this,Object(u.a)(t).call(this,e));var n=k.serviceWorker(Object(d.a)(Object(d.a)(a)),!1);return a.state={nav:a.props.page,het:n},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this;switch(this.state.nav){case"volunteers":e=l.a.createElement(B,{het:this.state.het});break;case"details":e=l.a.createElement(H,null);break;case"results":e=l.a.createElement(G,{het:this.state.het});break;default:e=l.a.createElement(H,{het:this.state.het})}return"Labels"===this.state.nav?l.a.createElement("div",null,e):l.a.createElement("div",null,this.props.nav?l.a.createElement($,{nav:function(e){return t.setState({nav:e})},page:this.state.nav,het:this.state.het}):null,this.state.message?l.a.createElement("div",{className:"alert alert-dismissible alert-"+this.state.message.type},l.a.createElement("button",{type:"button",className:"close",onClick:function(){return t.setState({message:null})},"data-dismiss":"alert"},"\xd7"),l.a.createElement("strong",null,this.state.message.text)):null,l.a.createElement("div",{id:"page",className:"container"},e))}}]),t}(n.Component),$=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={open:!1,in:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({open:!1,in:!1})}},{key:"render",value:function(){var e=this;return l.a.createElement("nav",{className:"navbar navbar-default"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"navbar-header"},l.a.createElement("button",{type:"button",className:"navbar-toggle collapsed",onClick:function(){e.setState({in:!e.state.in})}},l.a.createElement("span",{className:"sr-only"},"Toggle navigation"),l.a.createElement("span",{className:"icon-bar"}),l.a.createElement("span",{className:"icon-bar"}),l.a.createElement("span",{className:"icon-bar"})),l.a.createElement("a",{href:"http://www.hatchendtri.com/",className:"navbar-brand"},"Hatch End Triathlon")),l.a.createElement("div",{className:this.state.in?"collapse navbar-collapse in":"collapse navbar-collapse"},l.a.createElement("ul",{className:"nav navbar-nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",onClick:function(){return e.props.nav("volunteers")}},"Volunteers")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",onClick:function(){return e.props.nav("details")}},"Details")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",onClick:function(){return e.props.nav("results")}},"Results")),null),null)))}}]),t}(n.Component),K=X,Z=(a(33),null),Q=null,ee=!1;(Z=document.getElementById("HE_root"))?(Q="volunteers",ee=!0):(Z=document.getElementById("HE_results"))?Q="results":(Z=document.getElementById("HE_details"))&&(Q="details"),Z&&s.a.render(l.a.createElement(K,{page:Q,nav:ee}),Z),N()}},[[19,2,1]]]);
//# sourceMappingURL=main.2b26a8c9.chunk.js.map